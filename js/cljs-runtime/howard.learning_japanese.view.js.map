{"version":3,"sources":["howard/learning_japanese/view.cljs"],"mappings":"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","names":["re_frame.core.reg_sub","day8.re-frame.tracing/is-trace-enabled?","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__37730__auto__","day8.re-frame.debux.common.util/send-trace!","e","e53015","db","_","e53019","e53023","howard.learning-japanese.view/drawer-component","reagent-mui.components/box","re-frame.core/dispatch","reagent-mui.components/typography","reagent-mui.components/divider","reagent-mui.components/list","reagent-mui.components/list-item","reagent-mui.components/list-item-button","reitit.frontend.easy.href","reagent-mui.components/list-item-text","js/setTimeout","howard.learning-japanese.view/app","cljs.core/deref","status","re_frame.core.subscribe","match","open-drawler","view","cljs.core.not_EQ_","reagent-mui.components/css-baseline","reagent-mui.components/app-bar","reagent-mui.components/toolbar","reagent-mui.components/icon-button","reagent-mui.icons.menu/menu","reagent-mui.components/button","reagent-mui.components/drawer","reagent-mui.components/container","and__5043__auto__"],"sourcesContent":["(ns howard.learning-japanese.view\n  (:require\n   [day8.re-frame.tracing :refer [fn-traced]]\n   [howard.learning-japanese.events :as events]\n   [re-frame.core :as re-frame]\n   [reagent-mui.components\n    :refer [app-bar\n            box\n            button\n            container\n            css-baseline\n            divider\n            drawer\n            icon-button\n            list\n            list-item\n            list-item-button\n            list-item-text\n            menu\n            toolbar\n            typography]]\n   [reagent-mui.icons.menu :refer [menu]]\n   [howard.learning-japanese.api :as api]\n   [reitit.frontend.easy :as rfe]))\n\n(re-frame/reg-sub\n ::match\n (fn-traced\n  [db _]\n  (:match db)))\n\n(re-frame/reg-sub\n ::open-drawler\n (fn-traced\n  [db _]\n  (:layout/toggle-drawler db)))\n\n(re-frame/reg-sub\n ::get-status\n (fn-traced\n  [db _]\n  (:app/status db)))\n\n(defn drawer-component\n  []\n  [box {:on-click (fn []\n                    (re-frame/dispatch [::events/layout.toggle-drawler]))\n        :sx {:text-align \"center\"}}\n   [typography {:variant \"h6\"\n                :sx {:my 2}}\n    \"Learning Japanese\"]\n   [divider]\n   [list\n    [list-item {:disablePadding true}\n     [list-item-button {:sx {:text-align \"center\"}\n                        :href (rfe/href :word-list-page)}\n      [list-item-text {:primary \"Words\"}]]]\n    [list-item {:disablePadding true}\n     [list-item-button {:sx {:text-align \"center\"}\n                        :href (rfe/href :word)}\n      [list-item-text {:primary \"Content\"}]]]\n    [list-item {:disablePadding true}\n     [list-item-button {:sx {:text-align \"center\"}\n                        :href (rfe/href :word-list-page)\n                        :on-click (fn []\n                                    ;; excute on next tick to solve drawer didn't toggle issue\n                                    (js/setTimeout #(re-frame/dispatch [::api/reload-indexdb]) 0))}\n      [list-item-text {:primary \"Refresh Data\"}]]]]])\n\n(defn app\n  \"the root of the app\"\n  []\n  (let [status @(re-frame/subscribe [::get-status])\n        match @(re-frame/subscribe [::match])\n        open-drawler @(re-frame/subscribe [::open-drawler])\n        view (:view (:data match))]\n    (if (not= status :finish)\n      (str \"loading....\")\n      [:<>\n       [css-baseline]\n       [app-bar {:component \"nav\"}\n        [toolbar\n         [icon-button {:sx {:mr 2\n                            :display {:sm \"none\"}}\n                       :color \"inherit\"\n                       :on-click #(re-frame/dispatch [::events/layout.toggle-drawler])}\n          [menu]]\n         [typography {:component \"div\"\n                      :sx {:flex-grow 1}\n                      :variant \"h5\"} \"Japanese Learning\"]\n         [box {:sx {:display {:xs \"none\"\n                              :md \"flex\"}}}\n          [button {:sx {:color \"white\"}\n                   :on-click #(re-frame/dispatch [::api/reload-indexdb])} \"Refresh\"]\n          [button {:sx {:color \"white\"}\n                   :href (rfe/href :word-list-page)} \"Words\"]\n          [button {:sx  {:color \"white\"}\n                   :href (rfe/href :word)} \"Grammer\"]]]]\n       [box {:component \"nav\"}\n        [drawer {:varient \"temporary\"\n                 :open open-drawler\n                 :on-close (fn []\n                             (re-frame/dispatch [::events/layout.toggle-drawler]))\n                 :ModalProps {:keepMounted true}\n                 :sx {:display {:xs \"block\" :sm \"none\"}\n                      \"& .MuiDrawer-paper\" {:box-sizing \"border-box\"\n                                            :width \"240px\"}}}\n         [drawer-component]]]\n       [container {:fixed true\n                   :max-width \"md\"\n                   :sx {:display \"flex\"\n                        :flex-direction \"column\"\n                        :height \"100%\"}}\n        (when (and match\n                   view)\n          [view match])\n        [:div {:style {:flex \"0 1 50px\"\n                       :margin-bottom \"0\"}}\n         \"\"]]])))\n"]}