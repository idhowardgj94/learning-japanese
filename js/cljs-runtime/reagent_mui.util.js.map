{"version":3,"sources":["reagent_mui/util.cljs"],"mappings":"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","names":["reagent-mui.util/color-key?","reagent-mui.util/numeric-string?","s","cljs.core/re-matches","reagent-mui.util/pascal-case?","cljs.core/contains?","cljs.core/first","reagent-mui.util/keyword-safe?","reagent-mui.util/key->str","k","n","cljs.core/name","clojure.string/starts-with?","camel-snake-kebab.core/->camelCaseString","reagent-mui.util/convert-map-keys","m","f","clojure.walk/postwalk","x","cljs.core/map-entry?","G__56003","cljs.core/key","cljs.core/val","reagent-mui.util/clj->js'","obj","cljs.core/clj->js","cljs.core/Keyword","reagent-mui.util/js-key->clj","cljs.core.keyword","js/parseInt","camel-snake-kebab.core/->kebab-case-keyword","reagent-mui.util/js->clj'","convert","cljs.core/seq?","cljs.core.doall","cljs.core.map","cljs.core/MapEntry","cljs.core/coll?","cljs.core.into","cljs.core/empty","cljs.core/array?","cljs.core/persistent!","p1__56008#","p2__56009#","cljs.core.reduce","cljs.core.conj_BANG_","cljs.core/transient","js/module$node_modules$react$index.isValidElement","cljs.core/type","js/Object","r","cljs.core._EQ_","cljs.core.assoc_BANG_","reagent_mui.util.goog$module$goog$object.get","cljs.core/js-keys","reagent-mui.util/wrap-clj-function","args","cljs.core.apply","reagent-mui.util/wrap-js-function","reagent-mui.util/wrap-all-clj-functions","cljs.core/fn?","reagent-mui.util/wrap-all-js-functions","reagent-mui.util/reactify-component","component","reactified","js/module$node_modules$react$index.forwardRef","props","ref","clj-props","cljs.core.assoc","reagent.core.as_element","reagent.impl.util/fun-name","reagent-mui.util/wrap-styles","styles","theme","G__56031","reagent-mui.util/apply-hoc","hoc","G__56034","reagent.core/adapt-react-class","var_args","G__56040","reagent-mui.util/get-anycase","js/Error","reagent_mui.util.get_anycase","default","temp__5751__auto__","entry","or__5045__auto__","cljs.core/find","camel-snake-kebab.core/->camelCaseKeyword","G__56053","reagent-mui.util/assoc-anycase","args-arr__5794__auto__","len__5769__auto__","i__5770__auto__","argseq__5795__auto__","cljs.core/IndexedSeq","seq56046","G__56047","cljs.core/next","G__56048","G__56049","self__5754__auto__","v","cljs.core.dissoc","kvs","ret","reagent_mui.util.assoc_anycase","cljs.core/second","cljs.core/nnext","reagent-mui.util/remove-undefined-vals","cljs.core/reduce-kv","acc","cljs.core.dissoc_BANG_","reagent-mui.util/set-ref","value","js/undefined","args__5775__auto__","argseq__5776__auto__","reagent-mui.util/swap-ref","seq56062","G__56063","G__56064","reagent-mui.util/use-fork-ref","seq56070","self__5755__auto__","cljs.core/seq","refs","js/module$node_modules$react$index.useMemo","cljs.core/not-every?","cljs.core/nil?","seq__56075","chunk__56076","count__56077","i__56078","temp__5753__auto__","cljs.core/chunked-seq?","c__5568__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/array","reagent-mui.util/use-callback","callback","js/module$node_modules$react$index.useCallback","reagent-mui.util/use-effect","effect","js/module$node_modules$react$index.useEffect","reagent-mui.util/use-layout-effect","js/module$node_modules$react$index.useLayoutEffect","reagent-mui.util/use-ref","js/module$node_modules$react$index.useRef","reagent-mui.util/use-state","initial-state","js/module$node_modules$react$index.useState"],"sourcesContent":["(ns reagent-mui.util\n  (:require-macros [reagent-mui.util :refer [e forward-ref]])\n  (:require [react :as react]\n            [reagent.core :as r]\n            [reagent.impl.util :refer [fun-name]]\n            [cljs.core :refer [MapEntry]]\n            [clojure.string :as str]\n            [clojure.walk :refer [postwalk]]\n            [camel-snake-kebab.core :refer [->kebab-case-keyword ->camelCaseKeyword ->camelCaseString]]\n            [goog.object :as obj]\n            [\"@mui/material/SvgIcon\" :as SvgIcon]))\n\n(def ^:private color-key? #{:A100 :A200 :A400 :A700 \"A100\" \"A200\" \"A400\" \"A700\"})\n(defn ^:private numeric-string? [s]\n  (and (string? s)\n       (some? (re-matches #\"[0-9]+\" s))))\n(defn ^:private pascal-case? [s]\n  (and (string? s)\n       (contains? #{\\A \\B \\C \\D \\E \\F \\G \\H \\I \\J \\K \\L \\M \\N \\O \\P \\Q \\R \\S \\T \\U \\V \\W \\X \\Y \\Z}\n                  (first s))))\n(defn ^:private keyword-safe? [s]\n  (some? (re-matches #\"[-*+!?<>='&$%#|\\w]+\" s)))\n\n(defn ^:private key->str [k]\n  (let [n (name k)]\n    (cond\n      (color-key? k) n\n      (str/starts-with? n \"data-\") n\n      (str/starts-with? n \"aria-\") n\n      (pascal-case? n) n\n      :else (->camelCaseString k))))\n\n(defn ^:private convert-map-keys [m f]\n  (postwalk (fn [x]\n              (if (map-entry? x)\n                [(f (key x)) (val x)]\n                x))\n            m))\n\n(defn clj->js'\n  [obj]\n  (clj->js (convert-map-keys obj (fn [k]\n                                   (if (keyword? k)\n                                     (key->str k)\n                                     k)))))\n\n(defn ^:private js-key->clj [k]\n  (cond\n    (keyword? k) k\n    (color-key? k) (keyword k)\n    (numeric-string? k) (js/parseInt k)\n    (keyword-safe? k) (if (pascal-case? k)\n                        (keyword k)\n                        (->kebab-case-keyword k))\n    :else k))\n\n(defn js->clj'\n  [obj]\n  (let [convert (fn convert [x]\n                  (cond\n                    (seq? x)\n                    (doall (map convert x))\n\n                    (map-entry? x)\n                    (MapEntry. (convert (key x)) (convert (val x)) nil)\n\n                    (coll? x)\n                    (into (empty x) (map convert) x)\n\n                    (array? x)\n                    (persistent!\n                     (reduce #(conj! %1 (convert %2))\n                             (transient []) x))\n\n                    (react/isValidElement x)\n                    x\n\n                    (identical? (type x) js/Object)\n                    (persistent!\n                     (reduce (fn [r k]\n                               (if (= \"ref\" k)\n                                 (assoc! r :ref (obj/get x k))\n                                 (assoc! r (js-key->clj k) (convert (obj/get x k)))))\n                             (transient {}) (js-keys x)))\n                    :else x))]\n    (convert obj)))\n\n(defn wrap-clj-function [f]\n  (fn [& args]\n    (clj->js' (apply f (map js->clj' args)))))\n\n(defn wrap-js-function [f]\n  (fn [& args]\n    (js->clj' (apply f (map clj->js' args)))))\n\n(defn wrap-all-clj-functions [m]\n  (postwalk (fn [x]\n              (if (fn? x)\n                (wrap-clj-function x)\n                x))\n            m))\n\n(defn wrap-all-js-functions [m]\n  (postwalk (fn [x]\n              (if (fn? x)\n                (wrap-js-function x)\n                x))\n            m))\n\n(defn reactify-component [component]\n  (let [reactified (forward-ref [props ref]\n                     (let [clj-props (assoc (js->clj' props) :ref ref)]\n                       (r/as-element [component clj-props])))]\n    (set! (.-displayName reactified) (fun-name component))\n    reactified))\n\n(defn wrap-styles [styles]\n  (if (fn? styles)\n    (fn [theme]\n      (-> (js->clj' theme)\n          (styles)\n          (wrap-all-clj-functions)\n          (clj->js')))\n    (clj->js' (wrap-all-clj-functions styles))))\n\n(defn apply-hoc [hoc component]\n  (-> component\n      (reactify-component)\n      (hoc)\n      (r/adapt-react-class)))\n\n(defn get-anycase\n  ([m k]\n   (get-anycase m k nil))\n  ([m k default]\n   (if-let [entry (or (find m (->kebab-case-keyword k))\n                      (find m (->camelCaseKeyword k)))]\n     (val entry)\n     default)))\n\n(defn assoc-anycase\n  ([m k v]\n   (assoc (dissoc m (->camelCaseKeyword k)) (->kebab-case-keyword k) v))\n  ([m k v & kvs]\n   (let [ret (assoc-anycase m k v)]\n     (if kvs\n       (recur ret (first kvs) (second kvs) (nnext kvs))\n       ret))))\n\n(defn remove-undefined-vals [m]\n  (persistent!\n   (reduce-kv (fn [acc k v]\n                (if (undefined? v)\n                  (dissoc! acc k)\n                  acc))\n              (transient m)\n              m)))\n\n(defn set-ref [ref value]\n  (cond\n    (fn? ref) (ref value)\n    ref (set! (.-current ref) value))\n  js/undefined)\n\n(defn swap-ref [ref f & args]\n  (set! (.-current ref) (apply f (.-current ref) args)))\n\n(defn use-fork-ref [& refs]\n  (react/useMemo #(when (not-every? nil? refs)\n                    (fn [value]\n                      (doseq [ref refs]\n                        (set-ref ref value))))\n                 (apply array refs)))\n\n(defn use-callback [callback props]\n  (react/useCallback callback props))\n\n(defn use-effect [effect props]\n  (react/useEffect effect props))\n\n(defn use-layout-effect [effect]\n  (react/useLayoutEffect effect))\n\n(defn use-ref [value]\n  (react/useRef value))\n\n(defn use-state [initial-state]\n  (react/useState initial-state))\n"]}