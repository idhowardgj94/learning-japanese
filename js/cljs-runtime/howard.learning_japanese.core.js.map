{"version":3,"sources":["howard/learning_japanese/core.cljs"],"mappings":";AAoBA,AAAKA,oDAAoB,6BAAA,2CAAA,mFAAA,3JAACC;AAC1B,AAACC,wCAA8BF;AAE/B;;;2CAAA,3CAAMG;AAAN,AAGE,OAACC,iCACA,2FAAA,2CAAA,qDAAA,2CAAA,tOAACC,qDAAUC,6OAAyBC,+CACpC,WAAKC;AAAL,AACE,YAAA,ZAACC;;AACD,8BAAA,mFAAA,1GAACC,mOAAqCF;GAJzC,2CAAA,sEAAA;;AAOF;;;2CAAA,3CAAuBG;AAAvB,AAGE,AAACC;;AACD,AAAA,AAAAC,eAAA,OAAA,qBAAA;;AAAA,AAAAA,eAAA,OAAA,qBAAA;;AAAA,AAAAA,eAAA,QAAA,sBAAA;;AAKA,AAACC;;AACD,AAACX;;AACD,AAACY;;AACD,wDAAA,jDAACC,oIAAaC,0CACD,wBAAA,xBAAiBC;;AAEhC;;;qCAAA,rCAAMC;AAAN,AAGE,4BAAA,mFAAA,/GAACC;;AACD,AAACC;;AACD,OAACV","names":["howard.learning-japanese.core/functional-compiler","reagent.core/create-compiler","reagent.core/set-default-compiler!","howard.learning-japanese.core/init-route","reitit.frontend.easy/start!","reitit.frontend.router","howard.learning-japanese.route/routes","reitit.coercion.spec/coercion","m","js/console.log","re-frame.core/dispatch","howard.learning-japanese.core/mount-root","cljss.core/remove-styles!","cljss.core/css","re-frame.core/clear-subscription-cache!","howard.learning-japanese.api/setup-api","reagent.dom.render","howard.learning-japanese.view/app","js/document","howard.learning-japanese.core/init","re-frame.core/dispatch-sync","howard.learning-japanese.indexdb/setup-memory-db"],"sourcesContent":["(ns howard.learning-japanese.core\n  (:require\n   [cljss.core :as css]\n   [cljs.core.async :refer [go]]\n   [cljs.core.async.interop :refer [<p!]]\n   [howard.learning-japanese.api :as api]\n   [howard.learning-japanese.events :as events]\n   [howard.learning-japanese.route :refer [routes]]\n   [howard.learning-japanese.view :refer [app]]\n   [howard.learning-japanese.indexdb :refer [setup-memory-db]]\n   [re-frame.core :as re-frame]\n   [reagent.core :as reagent]\n   [reagent.dom :as rdom]\n   [reitit.coercion.spec :as rss]\n   [reitit.frontend :as rf]\n   [reitit.frontend.easy :as rfe])\n  (:require-macros\n   [cljss.core :refer [inject-global]]))\n\n;; default reagent compiler to functional components.\n(def functional-compiler (reagent.core/create-compiler {:function-components true}))\n(reagent/set-default-compiler! functional-compiler)\n\n(defn init-route\n  \"init route use rfe.\"\n  []\n  (rfe/start!\n   (rf/router routes {:data {:coercion rss/coercion}})\n   (fn [m]\n     (js/console.log \"inside route handler\")\n     (re-frame/dispatch [::events/navigate m]))\n   {:use-fragment true}))\n\n(defn ^:dev/after-load mount-root\n  \"mount re-frame root to web.\"\n  []\n  (css/remove-styles!)\n  (inject-global\n   {:html {:height \"100%\"}\n    :body {:height \"100%\"}\n    :#root {:height \"100%\"}})\n\n  (re-frame/clear-subscription-cache!)\n  (init-route)\n  (api/setup-api)\n  (rdom/render [app]\n               (.getElementById js/document \"root\")))\n\n(defn init\n  \"initialise cljs re-frame project\"\n  []\n  (re-frame/dispatch-sync [::events/initialise-db])\n  (setup-memory-db)\n  (mount-root))\n"]}