{"version":3,"sources":["indexed/db/impl/cursor.cljs"],"mappings":";AAKA,AAAA;;;;;;;;;;AAAA,AAAA,CAAA,AAAA,sFAAAA,tFAASK;;AAAT,CAAA,AAAA,yGAAA,zGAASA,oHAEOG;;AAFhB,AAAA,YAAA,RAEgBA;AAFhB,AAEmB,OAAWD;;;AAF9B,CAAA,AAAA,qFAAAP,rFAASK;;AAAT,CAAA,AAAA,mGAAA,nGAASA,8GAKEG;;AALX,AAAA,YAAA,RAKWA;AALX,AAKc,OAAUD;;;AALxB,CAAA,AAAA,+EAAAP,/EAASK;;AAAT,CAAA,AAAA,gGAAA,hGAASA,2GAQKG;;AARd,AAAA,YAAA,RAQcA;AARd,AAQiB,OAAaD;;;AAR9B,CAAA,AAAA,0FAAA,1FAASF,qGASDG;;AATR,AAAA,YAAA,RASQA;AATR,AASW,OAAOD;;;AATlB,CAAA,AAAA,kGAAA,lGAASF,6GAUOG;;AAVhB,AAAA,YAAA,RAUgBA;AAVhB,AAUmB,OAAcD;;;AAVjC,CAAA,AAAA,8FAAA,9FAASF,yGAWGG,EAAEC;;AAXd,AAAA,YAAA,RAWYD;AAXZ,AAWqB,OAAUD,0BAAWE;;;AAX1C,CAAA,AAAA,+FAAA,/FAASJ,0GAaJG,EAAEE;;AAbP,AAAA,YAAA,RAaKF;AAbL,AAcI,GAAI,GAAA,MAAA,LAAOE;AACT,OAAWH,2BAAWG;;AACtB,OAAWH;;;;AAhBjB,CAAA,AAAA,2GAAA,3GAASF,sHAiBgBG,EAAEE,EAAEC;;AAjB7B,AAAA,YAAA,RAiByBH;AAjBzB,AAiB0C,OAAqBD,qCAAWG,EAAEC;;;AAjB5E,CAAA,AAAA,6FAAA,7FAASN,wGAkBEG;;AAlBX,AAAA,YAAA,RAkBWA;AAlBX,AAkBc,OAACI,uCAAuB,AAASL;;;AAlB/C,CAAA,AAAA,6FAAA,7FAASF,wGAmBEG,EAAEK;;AAnBb,AAAA,YAAA,RAmBWL;AAnBX,AAmBoB,OAACI,uCAAuB,AAASL,yBAAWM;;;AAnBhE,CAAA,yCAAA,zCAASR;AAAT,AAAA,AAAA;;;AAAA,CAAA,+CAAA,/CAASA;;AAAT,CAAA,kDAAA,lDAASA;;AAAT,CAAA,uDAAA,WAAAJ,mBAAAC,qBAAAC,1GAASE;AAAT,AAAA,OAAAD,iBAAAF,qBAAA;;;AAAA;;;qCAAA,rCAASI,kFAAQC;AAAjB,AAAA,YAAAF,8BAAiBE;;;AAARF,AAqBT,uCAAA,vCAAMS,sFACHC;AADH,AAEE,GAAA,GAAA,MAAA,LAA2BA;AAA3B,GAAA,EAAA,WAAA,CAAAf,gCAAA,AAA2Be;AAA3B;;AAAA,GAAA,EAAA,AAA2BA;AAA3B,OAAAC,kCAAYC,oCAAeF;;AAA3B;;;;AAAA,OAAAC,kCAAYC,oCAAeF;;;AAE7B,uCAAA,vCAAMG,sFACHX;AADH,AAEE,YAAAF,8BAASE;;AAEX,mCAAA,nCAAMY,8EACHC;AADH,AAEE,OAACC,oCAAeD;;AAElB,6BAAA,7BAAME,kEACHF;AADH,AAEE,OAACG,8BAASH;;AAEZ,qCAAA,rCAAMI,kFACHJ;AADH,AAEE,OAACK,sCAAiBL;;AAEpB,iCAAA,jCAAMM,0EACHN,OAAOX;AADV,AAEE,OAACkB,kCAAaP,OAAOX;;AAEvB,AAAA,mCAAA,0CAAAmB,7EAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+DAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+DAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,CAAA,iEAAA,jEAAMD,4EACFV,OAAOV;AADX,AAEG,OAACsB,oCAAcZ,OAAOV;;;AAFzB,CAAA,iEAAA,jEAAMoB,4EAGFV;AAHJ,AAIG,6EAAA,tEAACa,+DAASb;;;AAJb,CAAA,2DAAA,3DAAMU;;AAAN,AAMA,8CAAA,9CAAMI,oGACHd,OAAOV,EAAEC;AADZ,AAEE,OAACwB,+CAA0Bf,OAAOV,EAAEC;;AAEtC,iCAAA,jCAAMyB,yEACHhB;AADH,AAEE,OAACiB,kCAAYjB;;AAEf,gCAAA,hCAAMkB,wEACHlB,OAAOP;AADV,AAEE,OAAC0B,iCAAYnB,OAAOP;;AAEtB,AAAA;;;;;;;;;;;;AAAA,AAAA,CAAA,AAAA,+FAAAb,/FAASwC;;AAAT,CAAA,AAAA,kHAAA,lHAASA,6HAEOhC;;AAFhB,AAAA,YAAA,RAEgBA;AAFhB,AAEmB,OAAWD;;;AAF9B,CAAA,AAAA,8FAAAP,9FAASwC;;AAAT,CAAA,AAAA,4GAAA,5GAASA,uHAKEhC;;AALX,AAAA,YAAA,RAKWA;AALX,AAKc,OAAUD;;;AALxB,CAAA,AAAA,wFAAAP,xFAASwC;;AAAT,CAAA,AAAA,yGAAA,zGAASA,oHAQKhC;;AARd,AAAA,YAAA,RAQcA;AARd,AAQiB,OAACW,iCAAUC;;;AAR5B,CAAA,AAAA,mGAAA,nGAASoB,8GASDhC;;AATR,AAAA,YAAA,RASQA;AATR,AASW,OAACc,2BAAIF;;;AAThB,CAAA,AAAA,2GAAA,3GAASoB,sHAUOhC;;AAVhB,AAAA,YAAA,RAUgBA;AAVhB,AAUmB,OAACgB,mCAAYJ;;;AAVhC,CAAA,AAAA,uGAAA,vGAASoB,kHAWGhC,EAAEC;;AAXd,AAAA,YAAA,RAWYD;AAXZ,AAWqB,OAACkB,+BAAQN,cAAOX;;;AAXrC,CAAA,AAAA,wGAAA,xGAAS+B,mHAYIhC,EAAEE;;AAZf,AAAA,YAAA,RAYaF;AAZb,AAYkB,OAACyB,+DAASb,cAAOV;;;AAZnC,CAAA,AAAA,oHAAA,pHAAS8B,+HAagBhC,EAAEE,EAAEC;;AAb7B,AAAA,YAAA,RAayBH;AAbzB,AAa0C,OAAC0B,4CAAqBd,cAAOV,EAAEC;;;AAbzE,CAAA,AAAA,sGAAA,tGAAS6B,iHAcEhC;;AAdX,AAAA,YAAA,RAcWA;AAdX,AAcc,OAAC4B,+BAAOhB;;;AAdtB,CAAA,AAAA,sGAAA,tGAASoB,iHAeEhC,EAAEK;;AAfb,AAAA,YAAA,RAeWL;AAfX,AAeoB,OAAC8B,8BAAOlB,cAAOP;;;AAfnC,CAAA,AAAA,iGAAAb,jGAASwC;;AAAT,CAAA,AAAA,8GAAA,9GAASA,yHAkBChC;;AAlBV,AAAA,YAAA,RAkBUA;AAlBV,AAkBa,OAASD;;;AAlBtB,CAAA,kDAAA,lDAASiC;AAAT,AAAA,AAAA;;;AAAA,CAAA,wDAAA,xDAASA;;AAAT,CAAA,2DAAA,3DAASA;;AAAT,CAAA,gEAAA,WAAAvC,mBAAAC,qBAAAC,nHAASqC;AAAT,AAAA,OAAApC,iBAAAF,qBAAA;;;AAAA;;;8CAAA,9CAASuC,oGAAiBrB,OAAOb;AAAjC,AAAA,YAAAiC,uCAA0BpB,OAAOb;;;AAAxBiC,AAoBT,kDAAA,lDAAME,4GACH3B;AADH,AAEE,GAAA,GAAA,MAAA,LAAoCA;AAApC,GAAA,EAAA,WAAA,CAAAf,gCAAA,AAAoCe;AAApC;;AAAA,GAAA,EAAA,AAAoCA;AAApC,OAAAC,kCAAY2B,6CAAwB5B;;AAApC;;;;AAAA,OAAAC,kCAAY2B,6CAAwB5B;;;AAEtC,kDAAA,lDAAM6B,4GACHrC;AADH,AAEE,YAAAiC,uCACC,AAACtB,qCAAcX,YACfA;;AAEH,+BAAA,/BAAMsC,sEACHC;AADH,AAEE,OAACC,gCAAWD","names":["cljs.core/PROTOCOL_SENTINEL","this__5330__auto__","writer__5331__auto__","opt__5332__auto__","cljs.core/-write","indexed.db.impl.cursor/Cursor","indexed.db.impl.cursor/->Cursor","idb-cursor","_","count","k","primary-key","indexed.db.impl.request/create-request","value","indexed.db.impl.cursor/cursor?","x","cljs.core/native-satisfies?","indexed.db.impl.protocols/IDBCursor","indexed.db.impl.cursor/create-cursor","indexed.db.impl.cursor/direction","cursor","indexed.db.impl.protocols/direction","indexed.db.impl.cursor/key","indexed.db.impl.protocols/key","indexed.db.impl.cursor/primary-key","indexed.db.impl.protocols/primary-key","indexed.db.impl.cursor/advance","indexed.db.impl.protocols/advance","var_args","G__45115","indexed.db.impl.cursor/continue","js/Error","indexed.db.impl.protocols/continue","indexed.db.impl.cursor.continue$","indexed.db.impl.cursor/continue-primary-key","indexed.db.impl.protocols/continue-primary-key","indexed.db.impl.cursor/delete","indexed.db.impl.protocols/delete","indexed.db.impl.cursor/update","indexed.db.impl.protocols/update","indexed.db.impl.cursor/CursorWithValue","indexed.db.impl.cursor/->CursorWithValue","indexed.db.impl.cursor/cursor-with-value?","indexed.db.impl.protocols/IDBCursorWithValue","indexed.db.impl.cursor/create-cursor-with-value","indexed.db.impl.cursor/value","cursor-with-value","indexed.db.impl.protocols/value"],"sourcesContent":["(ns ^:no-doc indexed.db.impl.cursor\n  (:require  [indexed.db.impl.request :as request]\n             [indexed.db.impl.protocols :as impl])\n  (:refer-clojure :exclude [key update]))\n\n(deftype Cursor [idb-cursor]\n  impl/BelongsToRequest\n  (idb-request [_] (.-request idb-cursor))\n\n  impl/BelongsToSource\n  (source [_] (.-source idb-cursor))\n\n  impl/IDBCursor\n  (direction [_] (.-direction idb-cursor))\n  (key [_] (.-key idb-cursor))\n  (primary-key [_] (.-primaryKey idb-cursor))\n  (advance [_ count] (.advance idb-cursor count))\n  (continue\n    [_ k]\n    (if (some? k)\n      (.continue idb-cursor k)\n      (.continue idb-cursor)))\n  (continue-primary-key [_ k primary-key] (.continuePrimaryKey idb-cursor k primary-key))\n  (delete [_] (request/create-request (.delete idb-cursor)))\n  (update [_ value] (request/create-request (.update idb-cursor value))))\n\n(defn cursor?\n  [x]\n  (satisfies? impl/IDBCursor x))\n\n(defn create-cursor\n  [idb-cursor]\n  (Cursor. idb-cursor))\n\n(defn direction\n  [cursor]\n  (impl/direction cursor))\n\n(defn key\n  [cursor]\n  (impl/key cursor))\n\n(defn primary-key\n  [cursor]\n  (impl/primary-key cursor))\n\n(defn advance\n  [cursor count]\n  (impl/advance cursor count))\n\n(defn continue\n  ([cursor k]\n   (impl/continue cursor k))\n  ([cursor]\n   (continue cursor nil)))\n\n(defn continue-primary-key\n  [cursor k primary-key]\n  (impl/continue-primary-key cursor k primary-key))\n\n(defn delete\n  [cursor]\n  (impl/delete cursor))\n\n(defn update\n  [cursor value]\n  (impl/update cursor value))\n\n(deftype CursorWithValue [cursor idb-cursor]\n  impl/BelongsToRequest\n  (idb-request [_] (.-request idb-cursor))\n\n  impl/BelongsToSource\n  (source [_] (.-source idb-cursor))\n\n  impl/IDBCursor\n  (direction [_] (direction cursor))\n  (key [_] (key cursor))\n  (primary-key [_] (primary-key cursor))\n  (advance [_ count] (advance cursor count))\n  (continue [_ k] (continue cursor k))\n  (continue-primary-key [_ k primary-key] (continue-primary-key cursor k primary-key))\n  (delete [_] (delete cursor))\n  (update [_ value] (update cursor value))\n\n  impl/IDBCursorWithValue\n  (value [_] (.-value idb-cursor)))\n\n(defn cursor-with-value?\n  [x]\n  (satisfies? impl/IDBCursorWithValue x))\n\n(defn create-cursor-with-value\n  [idb-cursor]\n  (CursorWithValue.\n   (create-cursor idb-cursor)\n   idb-cursor))\n\n(defn value\n  [cursor-with-value]\n  (impl/value cursor-with-value))\n"]}