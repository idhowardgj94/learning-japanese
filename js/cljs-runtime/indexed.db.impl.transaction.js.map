{"version":3,"sources":["indexed/db/impl/transaction.cljs"],"mappings":";AAIA,AAAA;;;;;;;;;;;AAAA,AAAA,CAAA,AAAA,iGAAAA,jGAASK;;AAAT,CAAA,AAAA,qHAAA,rHAASA,gIAEQG;;AAFjB,AAAA,YAAA,RAEiBA;AAFjB,AAEoB,OAAMD;;;AAF1B,CAAA,AAAA,2FAAAP,3FAASK;;AAAT,CAAA,AAAA,yGAAA,zGAASA,oHAKEG;;AALX,AAAA,YAAA,RAKWA;AALX,AAKcD;;;AALd,CAAA,AAAA,yFAAAP,zFAASK;;AAAT,CAAA,AAAA,sGAAA,tGAASA,iHAQCG;;AARV,AAAA,YAAA,RAQUA;AARV,AAQa,OAASD;;;AARtB,CAAA,AAAA,8FAAAP,9FAASK;;AAAT,CAAA,AAAA,gHAAA,hHAASA,2HAWMG;;AAXf,AAAA,YAAA,RAWeA;AAXf,AAWkB,OAAcD;;;AAXhC,CAAA,AAAA,0GAAA,1GAASF,qHAaAG;;AAbT,AAAA,YAAA,RAaSA;AAbT,AAaY,OAAQD;;;AAbpB,CAAA,AAAA,kHAAA,lHAASF,6HAgBJG,EAAEC;;AAhBP,AAAA,YAAA,RAgBKD;AAhBL,AAiBI,OAACE,0CACA,AAAcH,mCAAgBE;;;AAlBnC,CAAA,AAAA,2GAAA,3GAASJ,sHAoBCG;;AApBV,AAAA,YAAA,RAoBUA;AApBV,AAoBa,OAAQD;;;AApBrB,CAAA,AAAA,4GAAA,5GAASF,uHAsBEG;;AAtBX,AAAA,YAAA,RAsBWA;AAtBX,AAsBc,OAASD;;;AAtBvB,CAAA,mDAAA,nDAASF;AAAT,AAAA,AAAA;;;AAAA,CAAA,yDAAA,zDAASA;;AAAT,CAAA,4DAAA,5DAASA;;AAAT,CAAA,iEAAA,WAAAJ,mBAAAC,qBAAAC,pHAASE;AAAT,AAAA,OAAAD,iBAAAF,qBAAA;;;AAAA;;;+CAAA,/CAASI,sGAAaC;AAAtB,AAAA,YAAAF,wCAAsBE;;;AAAbF,AAwBT,iDAAA,jDAAMM,0GACHC;AADH,AAEE,GAAA,GAAA,MAAA,LAAgCA;AAAhC,GAAA,EAAA,WAAA,CAAAZ,gCAAA,AAAgCY;AAAhC;;AAAA,GAAA,EAAA,AAAgCA;AAAhC,OAAAC,kCAAYC,yCAAoBF;;AAAhC;;;;AAAA,OAAAC,kCAAYC,yCAAoBF;;;AAElC,iDAAA,jDAAMG,0GACHR;AADH,AAEE,YAAAF,wCAAcE;;AAEhB,2CAAA,3CAAMS,8FACHC,IAAIR;AADP,AAEE,OAACS,uCAAkBD,IAAIR;;AAEzB,yCAAA,zCAAMU,0FACHF;AADH,AAEE,OAACG,qCAAgBH;;AAEnB,mCAAA,nCAAMI,8EACHJ;AADH,AAEE,OAACK,+BAAUL;;AAEb,oCAAA,pCAAMM,gFACHN;AADH,AAEE,OAACO,gCAAWP;;AAEd,qCAAA,rCAAMQ,kFACHR;AADH,AAEE,OAACS,iCAAYT;;AAEf,0CAAA,1CAAMU,4FACHC;AADH,AAEE,OAACb,+CAAmB,AAACc,0CAAqBD","names":["cljs.core/PROTOCOL_SENTINEL","this__5330__auto__","writer__5331__auto__","opt__5332__auto__","cljs.core/-write","indexed.db.impl.transaction/Transaction","indexed.db.impl.transaction/->Transaction","idb-transaction","_","name","indexed.db.impl.store/create-object-store","indexed.db.impl.transaction/transaction?","x","cljs.core/native-satisfies?","indexed.db.impl.protocols/IDBTransaction","indexed.db.impl.transaction/create-transaction","indexed.db.impl.transaction/object-store","txn","indexed.db.impl.protocols/object-store","indexed.db.impl.transaction/durability","indexed.db.impl.protocols/durability","indexed.db.impl.transaction/mode","indexed.db.impl.protocols/mode","indexed.db.impl.transaction/abort","indexed.db.impl.protocols/abort","indexed.db.impl.transaction/commit","indexed.db.impl.protocols/commit","indexed.db.impl.transaction/transaction","belongs-to-txn","indexed.db.impl.protocols/idb-transaction"],"sourcesContent":["(ns ^:no-doc indexed.db.impl.transaction\n  (:require [indexed.db.impl.store :as store]\n            [indexed.db.impl.protocols :as impl]))\n\n(deftype Transaction [idb-transaction]\n  impl/BelongsToDatabase\n  (idb-database [_] (.-db idb-transaction))\n\n  impl/EventTarget\n  (target [_] idb-transaction)\n\n  impl/HasErrors\n  (error [_] (.-error idb-transaction))\n\n  impl/IDBTransaction\n  (durability [_] (.-durability idb-transaction))\n\n  (mode [_] (.-mode idb-transaction))\n\n  (object-store\n    [_ name]\n    (store/create-object-store\n     (.objectStore idb-transaction name)))\n\n  (abort [_] (.abort idb-transaction))\n\n  (commit [_] (.commit idb-transaction)))\n\n(defn transaction?\n  [x]\n  (satisfies? impl/IDBTransaction x))\n\n(defn create-transaction\n  [idb-transaction]\n  (Transaction. idb-transaction))\n\n(defn object-store\n  [txn name]\n  (impl/object-store txn name))\n\n(defn durability\n  [txn]\n  (impl/durability txn))\n\n(defn mode\n  [txn]\n  (impl/mode txn))\n\n(defn abort\n  [txn]\n  (impl/abort txn))\n\n(defn commit\n  [txn]\n  (impl/commit txn))\n\n(defn transaction\n  [belongs-to-txn]\n  (create-transaction (impl/idb-transaction belongs-to-txn)))\n"]}